Check out CeilingFanCycle as a new type of command.
Possible to do it, but it will be cleaner in the State version.

